# Бот для поиска TRG-сессий
В сфере настольных ролевых игр существуют проблема: зачастую мастера не могут найти игроков для своих приключений, а игрокам бывает трудно отыскать ведущего. В этом проекте реализован бот, призванный решить это неудобство.
## Запуск
### Получение API токена
[bot_father]: https://t.me/BotFather
Для начала вам необходимо зарегистрировать бота, получив токен у [Bot Father][bot_father].
### Установка переменных окружения
После этого вам будет создать файл в основном каталоге`.env`. 
```bash
cp bot/env_example bot/test
```
В нём нужно установить полученный вами токен и другие необходимые переменные.
### Установка зависимостей
Далее, чтобы установить все требуемые библиотеки, запустите следующую команду.
```bash
pip install -r requirements.txt
```
Теперь проект готов к запуску. Осталось запустить файл `bot/base/__main__.py`.
## Структура проекта
- Файл `bot/base/__main__.py` содержит код, непосредственно запускающий бота. <br/>
- В папке `bot/db` находится реализация базы данных и запросов к ней. <br/>
- В папке `bot/dialogs` реализована логика бота и его взаимодействия с пользователем. Для каждого диалога создан отдельный файл с его реализацией и всеми необходимыми вспомогательными функциями. Инструменты, необходимые в нескольких диалогах вынесены в `games_tools.py`, `registration_tools.py` и `general_tools.py`.  <br/>
- В папке `bot/states` инициализированы состояния (`State`).
- Файл `bot/handlers/default_commands.py` находятся обработчики каманд.


## Основные команды
* _/start_ <br/>
 Будет выведена основная информация о боте, а также доступные команды.
* _/register_ <br/>
 Команда запустит регистрацию пользователя. В ней будут заполнены основные поля, которые необходимы всем пользователям.
* _/profile_ <br/>
 Команда отображает профиль пользователя и позволяет редактировать его.
* _/player_ <br/>
 Команда отображает форму игрока и позволяет редактировать её.
* _/master_ <br/>
 Команда отображает форму мастера и позволяет редактировать её.
* _/games_ <br/>
 Команда открывает диалог для просмотра всех созданных пользователем игр и поданных им заявок. В нём же можно управлять заявками на игру и игроками.
* _/create_ <br/>
 Команда запускает процесс создания игры.
* _/search_ <br/>
 Команда позволяет просматривать созданные другими пользователями игры, искать интересующие с помощью фильтров и подавать заявки на них.
